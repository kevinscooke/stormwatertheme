{{ define "main" }}
<section class="mx-auto max-w-6xl px-4 py-12">
  <!-- Title -->
  <h1 class="text-3xl font-extrabold tracking-tight mb-8">{{ .Title }}</h1>

  <!-- Top 3 service cards (by weight) -->
  {{ $pages := .RegularPages }}
  <ul class="grid gap-6 sm:gap-8 md:grid-cols-2">
    {{ range first 4 ($pages.ByWeight) }}
      <li>
        <a href="{{ .RelPermalink }}"
           class="group block rounded-2xl border border-gray-200 bg-white p-6 sm:p-7 shadow-sm hover:shadow-md hover:-translate-y-0.5 active:translate-y-0 transition
                  focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-900">
          <!-- Badge / tiny label -->
          <div class="mb-3 inline-flex items-center gap-2">
            <span class="rounded-full bg-gray-100 px-3 py-1 text-xs font-semibold text-gray-700">Commercial</span>
            <span class="h-1 w-1 rounded-full bg-gray-300"></span>
            <span class="text-xs text-gray-500">Charlotte Metro</span>
          </div>

          <!-- Title + arrow affordance -->
          <div class="flex items-start justify-between gap-4">
            <h2 class="text-xl sm:text-2xl font-semibold leading-snug">
              {{ .Title }}
            </h2>
            <!-- Arrow -->
            <span class="mt-1 inline-flex shrink-0 items-center justify-center rounded-full border border-gray-200 p-2
                         group-hover:bg-gray-900 group-hover:text-white transition">
              <svg viewBox="0 0 24 24" class="h-4 w-4">
                <path d="M5 12h14M13 5l7 7-7 7" fill="none" stroke="currentColor" stroke-width="1.5"
                      stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </span>
          </div>

          <!-- Description (clamped) -->
          {{ with .Params.description }}
            <p class="mt-3 text-gray-600 line-clamp-2">{{ . }}</p>
          {{ end }}

          <!-- Micro list / teaser -->
          <ul class="mt-4 text-sm text-gray-700 space-y-1">
            <li class="flex items-center gap-2">
              <span class="h-1.5 w-1.5 rounded-full bg-gray-400"></span>
              Fast response for active sites
            </li>
            <li class="flex items-center gap-2">
              <span class="h-1.5 w-1.5 rounded-full bg-gray-400"></span>
              Industrial / commercial focused
            </li>
            <li class="flex items-center gap-2">
              <span class="h-1.5 w-1.5 rounded-full bg-gray-400"></span>
              Serving Charlotte Metro
            </li>
          </ul>

          <!-- CTA footer -->
          <div class="mt-6 flex items-center justify-between">
            <span class="text-sm font-medium text-gray-900">Learn more</span>
            <span class="text-sm text-gray-500 group-hover:text-gray-900 transition">({{ .RelPermalink }})</span>
          </div>
        </a>
      </li>
    {{ end }}
  </ul>

  <!-- Section body content BELOW cards -->
  {{ with .Content }}
    <div class="prose max-w-none mt-12">
      {{ . }}
    </div>
  {{ end }}
</section>
{{ end }}
